<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>GB-JS-LVL2-Lesson1</title>
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<div id="root">
    <header>
        <div class="wrapper header-wrapper">
            <div class="logo">LOGO</div>
            <div class="main-menu">MENU</div>
            <app-search-input :search_items="searchItems" :search_value="searchValue"></app-search-input>
            <app-cart-button :open_close_cart="openCloseCart" :cart_list="cartList"></app-cart-button>
        </div>
    </header>
    <main>
        <app-product-list
                :items="filteredList"
                :is_cart="isCart"
                :add_cart="addCart"
                :remove_cart="removeCart"
                :filtered_list="filteredList"
                :products_list="productsList">
        </app-product-list>
        <div v-bind:class="{close: cartIsClosed}" class="modalDialog">
            <div style="width: 800px; padding: 25px" v-if="cartList.length > 0">
                <span style='cursor: pointer' @click="openCloseCart">Закрыть</span>
                <div style="margin-top: 50px" class="wrapper products-wrapper" >
                <div class="carts-item" v-for="item in cartList">
                    <div class="carts-item__image"><img src="https://picsum.photos/200" alt="image"></div>
                    <h3 class="carts-item__title">{{item.product_name}}</h3>
                    <p class="carts-item__price">Price: {{item.price}} USD</p>
                    <div class="carts-item__cart-btn cart-button" v-bind:class="{disabled: isCart(item.id_product)}" @click="!isCart(item.id_product) ? addCart(item.id_product) : removeCart(item.id_product)">
                        <span>{{isCart(item.id_product) ? 'Удалить из корзины' : 'Добавить в корзину'}}</span>
                    </div>
                </div>
            </div>
            </div>
            <div v-if="cartList.length <= 0" style="width: 400px; height: 400px; display: flex; flex-direction: column">
                <span style="cursor: pointer" @click="openCloseCart">Закрыть</span>
                <div style="width: 100%;height: 100%; display: flex; justify-content: center; align-items: center">Корзина пуста</div>
            </div>

        </div>
    </main>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="assets/js/main_vue.js"></script>
</body>
</html>
